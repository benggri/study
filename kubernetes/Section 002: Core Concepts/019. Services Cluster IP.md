# Services Cluster IP

```
           ------------   ------------   ------------  
front-end | 10.244.0.3 | | 10.244.0.2 | | 10.244.0.4 | 
          | POD        | | POD        | | POD        | 
           ------------   ------------   ------------  
                 \              |             /        
           ------------------------------------------ 
          |             service back-end             |
           ------------------------------------------ 
                 /              |             \        
           ------------   ------------   ------------  
back-end  | 10.244.0.5 | | 10.244.0.6 | | 10.244.0.7 | 
          | POD        | | POD        | | POD        | 
           ------------   ------------   ------------  

                 \              |             /        
           ------------------------------------------ 
          |             service redis                |
           ------------------------------------------ 
                 /              |             \        
           ------------   ------------   -------------  
redis     | 10.244.0.8 | | 10.244.0.9 | | 10.244.0.10 | 
          | POD        | | POD        | | POD         | 
           ------------   ------------   -------------  
```

* 다양한 service 간의 통신에 영향을 주지 않고 각 계층은 필요한 대로 확장 또는 이동할 수 있다
* 각각의 service 는 cluster 내부에서 IP 와 그에 할당된 이름을 갖고 있다
* 다른 POD 가 service 에 접근할 때 할당된 이름을 사용해야한다

```yml
apiVersion: v1
kind: Service 
metadata:
  name: <service_name>
spec:
  type: ClusterIP
  ports:
    - targetPort: 80
      port: 80
  selector:
    app: myapp
    type: back-end
```