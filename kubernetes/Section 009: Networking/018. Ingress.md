# Ingress

* Web service 를 하나 만든다고 가정한다

```
 -------------------------     
| www.my-online-store.com |    
 -------------------------     
              |                
 -------------------------    
| http://<node-ip>:38080  |    
 -------------------------     
              |                
        ------------           
 ------| Port 38080 |-------  
|       ------------        | 
|             |             | 
|    --------------------   | 
|   | service | NodePort |  |
|    --------------------   | 
|   | wear-service       |  |
|    --------------------   | 
|             |             | 
|    --------------------   | 
|   | Pod                |  |
|    --------------------   | 
|   | wear               |  |
|    --------------------   | 
|             |             | 
|    ---------------------  | 
|   | service | ClusterIP | |
|    ---------------------  | 
|   | mysql-service       | |
|    ---------------------  | 
|             |             | 
|    --------------------   | 
|   | Pod                |  |
|    --------------------   | 
|   | MySQL              |  |
|    --------------------   | 
|                           | 
 ---------------------------  
```

* 이렇게 하면 **http://<node-ip>:38080** 로 접속할 수 있다
* 사용량이 늘어나면 Pod 를 복제해서 더 많이 만든다

```
 -------------------------     
| www.my-online-store.com |    
 -------------------------     
              |                
 -------------------------    
| http://<node-ip>:38080  |    
 -------------------------     
              |                
        ------------           
 ------| Port 38080 |-------  
|       ------------        | 
|             |             | 
|    --------------------   | 
|   | service | NodePort |  |
|    --------------------   | 
|   | wear-service       |  |
|    --------------------   | 
|             |             | 
|    --------------------   | 
|   | Pod  | Pod  |Pod   |  |
|    --------------------   | 
|   | wear | wear |wear  |  |
|    --------------------   | 
|             |             | 
|    ---------------------  | 
|   | service | ClusterIP | |
|    ---------------------  | 
|   | mysql-service       | |
|    ---------------------  | 
|             |             | 
|    --------------------   | 
|   | Pod                |  |
|    --------------------   | 
|   | MySQL              |  |
|    --------------------   | 
|                           | 
 ---------------------------  
```

* 사용자가 Node IP 를 직접 입력해서 서비스에 접속하길 원하지 않는다 

```
 -------------------------      ------------      -------------------------  
| www.my-online-store.com | => | <node-ip>  | => | http://<node-ip>:38080  |  
 -------------------------      ------------      -------------------------  
```

* DNS 서버를 구성해 Node 의 IP 를 가리키고 URL 을 통해 접속할 수 있다 