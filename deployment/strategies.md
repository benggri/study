### 배포
- 배포 전략(롤링, 블루/그린, 카나리)
#### 롤링(Rolling)
- 일반적인 배포를 의미
- 단순하게 서버를 구성하여 배포하는 전략
- 구 버전에서 신 버전으로 트래픽을 점진적으로 전환하는 배포
- 관리가 편하지만, 배포 중 한쪽 인스턴스의 수가 감소되므로 서버 처리 용량을 미리 고려
#### 블루 그린(Blue Green)
- **그린(신 버전)** 을 배포하고 일제히 전환하여 모든 연결을 **그린(신 버전)** 을 바라보게 하는 전략
- **블루(구 버전)** , **그린(신 버전)** 서버를 동시에 나한히 구성하여 배포 시점에 트래픽이 일제히 전환된다.
- 빠른 롤백이 가능하고, 운영환경에 영향을 주지 않고 실제 서비스 환경으로 **그린(신 버전)** 테스트가 가능
- 단, 시스템 자원이 두배로 필요하여 비용이 더 많이 발생
#### 카나리(Canary)
- 카나리아는 유독가스에 굉장히 민감한 동물로 석탄 광산에서 유독가스 누출의 위험을 알리는 용도로 사용되어왔다
- 미리 위험을 감지하기 위함
- 카나리 배포는 위험을 빠르게 감지할 수 있는 배포 전략
- 지정한 서버 또는 특정 user에게만 배포했다가 정상적이면 전체를 배포한다
- 서버의 트래픽의 일부를 신 버전으로 분산하여 오류 여부를 확인할 수 있다.
- 이런 전략은 A/B 테스트가 가능하며, 성능 모니터링에 유용하다.
- 트래픽을 분산시킬 때는 라우팅을 랜덤하게 할 수 있고, 사용자로 분류할 수 있다.
